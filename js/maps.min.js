var infoBox_ratingType="star-rating";!function($){"use strict";function mainMap(){var ib=new InfoBox;function locationData(locationImg,locationRating,locationRatingCounter,locationURL,locationTitle,locationAddress,locationPhone,locationColor,locationIcon,locationName,locationStatus){return'<div class="map-listing-item"><div class="inner-box"><div class="infoBox-close"><i class="fa fa-times"></i></div><div class="image-box"><figure class="image"><img src="'+locationImg+'" alt=""></figure><div class="content"><div class="'+infoBox_ratingType+'" data-rating="'+locationRating+'"><div class="rating-counter">('+locationRatingCounter+' reviews)</div></div><h3><a href="'+locationURL+'">'+locationTitle+'<span class="icon icon-verified"></span></a></h3><ul class="info"><li><span class="flaticon-phone"></span>'+locationPhone+'</li><li><span class="flaticon-pin"></span>'+locationAddress+'</li></ul></div></div><div class="bottom-box"><div class="places"><div class="place '+locationColor+'"><span class="icon '+locationIcon+'" ></span> '+locationName+' </div></div><div class="status">'+locationStatus+"</div></div></div></div>"}var locations=[[locationData("images/resource/listing/1-1.jpg","5","7","listing-single.html","BMW M8 Gran Coupe Base - 2021","$129 ","","sky","flaticon-tent","Hotel","Now Closed"),40.94401669296697,-74.16938781738281,1,'<i class="icon flaticon-desk-bell"></i>'],[locationData("images/resource/listing/1-2.jpg","5","8","listing-single.html","Audi A8 L 55 - 2021","$129 ","","pink","flaticon-cutlery","Restaurant","Now Closed"),40.77055783505125,-74.26002502441406,2,'<i class="icon flaticon-cutlery"></i>'],[locationData("images/resource/listing/1-3.jpg","5","9","listing-single.html","Volvo XC90 - 2020","$129 ","","purple","flaticon-tent","Art & History","Now Closed"),40.7427837,-73.11445617675781,3,'<i class="icon flaticon-tent"></i>'],[locationData("images/resource/listing/2-1.jpg","5","6","listing-single.html","Mercedes-Benz S 560 - 2021 ","$129 ","","green","flaticon-shopping-bag","Shopping","Now Closed"),40.70437865245596,-73.98674011230469,4,'<i class="icon flaticon-shopping-bag"></i>'],[locationData("images/resource/listing/2-2.jpg","5","5","listing-single.html","Mercedes-Benz S 560 - 2021 ","$129","","pink","flaticon-cutlery","Restaurant","Now Closed"),40.641311,-73.778139,5,'<i class="icon flaticon-cutlery"></i>'],[locationData("images/resource/listing/2-3.jpg","5","4","listing-single.html","Land Rover Range Rover HSE Westminster","$129 ","","orange","flaticon-cutlery","Restaurant","Now Closed"),41.080938,-73.535957,6,'<i class="icon flaticon-cutlery"></i>'],[locationData("images/resource/listing/2-4.jpg","5","3","listing-single.html","Bentley Bentayga V8 - 2020 ","$129 ","","dark-pink","flaticon-gym"," Gym & Fitness ","Now Closed"),41.079386,-73.519478,7,'<i class="icon flaticon-mirror"></i>']];function numericalRating(ratingElem){$(ratingElem).each((function(){var dataRating=$(this).attr("data-rating");dataRating>=4?$(this).addClass("high"):dataRating>=3?$(this).addClass("mid"):dataRating<3&&$(this).addClass("low")}))}function starRating(ratingElem){$(ratingElem).each((function(){var dataRating=$(this).attr("data-rating");function starsOutput(firstStar,secondStar,thirdStar,fourthStar,fifthStar){return'<span class="'+firstStar+'"></span><span class="'+secondStar+'"></span><span class="'+thirdStar+'"></span><span class="'+fourthStar+'"></span><span class="'+fifthStar+'"></span>'}var fiveStars=starsOutput("star","star","star","star","star"),fourHalfStars=starsOutput("star","star","star","star","star half"),fourStars=starsOutput("star","star","star","star","star empty"),threeHalfStars=starsOutput("star","star","star","star half","star empty"),threeStars=starsOutput("star","star","star","star empty","star empty"),twoHalfStars=starsOutput("star","star","star half","star empty","star empty"),twoStars=starsOutput("star","star","star empty","star empty","star empty"),oneHalfStar=starsOutput("star","star half","star empty","star empty","star empty"),oneStar=starsOutput("star","star empty","star empty","star empty","star empty");dataRating>=4.75?$(this).append(fiveStars):dataRating>=4.25?$(this).append(fourHalfStars):dataRating>=3.75?$(this).append(fourStars):dataRating>=3.25?$(this).append(threeHalfStars):dataRating>=2.75?$(this).append(threeStars):dataRating>=2.25?$(this).append(twoHalfStars):dataRating>=1.75?$(this).append(twoStars):dataRating>=1.25?$(this).append(oneHalfStar):dataRating<1.25&&$(this).append(oneStar)}))}numericalRating(".numerical-rating"),starRating(".star-rating"),google.maps.event.addListener(ib,"domready",(function(){(infoBox_ratingType="numerical-rating")&&numericalRating(".infoBox ."+infoBox_ratingType),(infoBox_ratingType="star-rating")&&starRating(".infoBox ."+infoBox_ratingType)}));var mapZoomAttr=$("#map").attr("data-map-zoom"),mapScrollAttr=$("#map").attr("data-map-scroll");if(void 0!==mapZoomAttr&&!1!==mapZoomAttr)var zoomLevel=parseInt(mapZoomAttr);else var zoomLevel=5;if(void 0!==mapScrollAttr&&!1!==mapScrollAttr)var scrollEnabled=parseInt(mapScrollAttr);else var scrollEnabled=!1;var map=new google.maps.Map(document.getElementById("map"),{zoom:zoomLevel,scrollwheel:scrollEnabled,center:new google.maps.LatLng(40.8,-73.7),mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,panControl:!1,navigationControl:!1,streetViewControl:!1,gestureHandling:"cooperative",styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]});$(".listing-item-container").on("mouseover",(function(){var listingAttr;if(void 0!==$(this).data("marker-id")){var listing_id=$(this).data("marker-id")-1,marker_div=allMarkers[listing_id].div;$(marker_div).addClass("clicked"),$(this).on("mouseout",(function(){$(marker_div).is(":not(.infoBox-opened)")&&$(marker_div).removeClass("clicked")}))}}));var boxText=document.createElement("div"),currentInfobox;boxText.className="map-box";var boxOptions={content:boxText,disableAutoPan:!1,alignBottom:!0,maxWidth:0,pixelOffset:new google.maps.Size(-134,-55),zIndex:null,boxStyle:{width:"320px"},closeBoxMargin:"0",closeBoxURL:"",infoBoxClearance:new google.maps.Size(25,25),isHidden:!1,pane:"floatPane",enableEventPropagation:!1},markerCluster,overlay,i,allMarkers=[],clusterStyles=[{textColor:"white",url:"",height:50,width:50}],markerIco,options;for(i=0;i<locations.length;i++){markerIco=locations[i][4];var overlaypositions,overlay=new CustomMarker(new google.maps.LatLng(locations[i][1],locations[i][2]),map,{marker_id:i},markerIco);allMarkers.push(overlay),google.maps.event.addDomListener(overlay,"click",function(overlay,i){return function(){ib.setOptions(boxOptions),boxText.innerHTML=locations[i][0],ib.close(),ib.open(map,overlay),currentInfobox=locations[i][3],google.maps.event.addListener(ib,"domready",(function(){$(".infoBox-close").on("click",(function(e){e.preventDefault(),ib.close(),$(".map-marker-container").removeClass("clicked infoBox-opened")}))}))}}(overlay,i))}markerCluster=new MarkerClusterer(map,allMarkers,{imagePath:"images/",styles:clusterStyles,minClusterSize:2}),google.maps.event.addDomListener(window,"resize",(function(){var center=map.getCenter();google.maps.event.trigger(map,"resize"),map.setCenter(center)}));var zoomControlDiv=document.createElement("div"),zoomControl=new ZoomControl(zoomControlDiv,map);function ZoomControl(controlDiv,map){zoomControlDiv.index=1,map.controls[google.maps.ControlPosition.RIGHT_CENTER].push(zoomControlDiv),controlDiv.style.padding="5px",controlDiv.className="zoomControlWrapper";var controlWrapper=document.createElement("div");controlDiv.appendChild(controlWrapper);var zoomInButton=document.createElement("div");zoomInButton.className="custom-zoom-in",controlWrapper.appendChild(zoomInButton);var zoomOutButton=document.createElement("div");zoomOutButton.className="custom-zoom-out",controlWrapper.appendChild(zoomOutButton),google.maps.event.addDomListener(zoomInButton,"click",(function(){map.setZoom(map.getZoom()+1)})),google.maps.event.addDomListener(zoomOutButton,"click",(function(){map.setZoom(map.getZoom()-1)}))}var scrollEnabling=$("#scrollEnabling");function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(position){var pos=new google.maps.LatLng(position.coords.latitude,position.coords.longitude);map.setCenter(pos),map.setZoom(12)}))}$(scrollEnabling).on("click",(function(e){e.preventDefault(),$(this).toggleClass("enabled"),$(this).is(".enabled")?map.setOptions({scrollwheel:!0}):map.setOptions({scrollwheel:!1})})),$("#geoLocation, .input-with-icon.location a").on("click",(function(e){e.preventDefault(),geolocate()}))}var map=document.getElementById("map");function singleListingMap(){var myLatlng=new google.maps.LatLng({lng:$("#singleListingMap").data("longitude"),lat:$("#singleListingMap").data("latitude")}),single_map=new google.maps.Map(document.getElementById("singleListingMap"),{zoom:15,center:myLatlng,scrollwheel:!1,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,panControl:!1,navigationControl:!1,streetViewControl:!1,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]});$("#streetView").on("click",(function(e){e.preventDefault(),single_map.getStreetView().setOptions({visible:!0,position:myLatlng})}));var zoomControlDiv=document.createElement("div"),zoomControl=new ZoomControl(zoomControlDiv,single_map);function ZoomControl(controlDiv,single_map){zoomControlDiv.index=1,single_map.controls[google.maps.ControlPosition.RIGHT_CENTER].push(zoomControlDiv),controlDiv.style.padding="5px";var controlWrapper=document.createElement("div");controlDiv.appendChild(controlWrapper);var zoomInButton=document.createElement("div");zoomInButton.className="custom-zoom-in",controlWrapper.appendChild(zoomInButton);var zoomOutButton=document.createElement("div");zoomOutButton.className="custom-zoom-out",controlWrapper.appendChild(zoomOutButton),google.maps.event.addDomListener(zoomInButton,"click",(function(){single_map.setZoom(single_map.getZoom()+1)})),google.maps.event.addDomListener(zoomOutButton,"click",(function(){single_map.setZoom(single_map.getZoom()-1)}))}var singleMapIco="<i class='"+$("#singleListingMap").data("map-icon")+"'></i>";new CustomMarker(myLatlng,single_map,{marker_id:"1"},singleMapIco)}void 0!==map&&null!=map&&google.maps.event.addDomListener(window,"load",mainMap);var single_map=document.getElementById("singleListingMap");function CustomMarker(latlng,map,args,markerIco){this.latlng=latlng,this.args=args,this.markerIco=markerIco,this.setMap(map)}void 0!==single_map&&null!=single_map&&google.maps.event.addDomListener(window,"load",singleListingMap),CustomMarker.prototype=new google.maps.OverlayView,CustomMarker.prototype.draw=function(){var self=this,div=this.div,panes;div||((div=this.div=document.createElement("div")).className="map-marker-container",div.innerHTML='<div class="marker-container"><div class="marker-card"><div class="front face">'+self.markerIco+'</div><div class="back face">'+self.markerIco+'</div><div class="marker-arrow"></div></div></div>',google.maps.event.addDomListener(div,"click",(function(event){$(".map-marker-container").removeClass("clicked infoBox-opened"),google.maps.event.trigger(self,"click"),$(this).addClass("clicked infoBox-opened")})),void 0!==self.args.marker_id&&(div.dataset.marker_id=self.args.marker_id),this.getPanes().overlayImage.appendChild(div));var point=this.getProjection().fromLatLngToDivPixel(this.latlng);point&&(div.style.left=point.x+"px",div.style.top=point.y+"px")},CustomMarker.prototype.remove=function(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null,$(this).removeClass("clicked"))},CustomMarker.prototype.getPosition=function(){return this.latlng}}(this.jQuery);