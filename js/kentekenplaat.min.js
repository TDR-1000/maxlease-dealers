class Kentekenplaat{constructor(element,options){this.options=Object.assign({},Kentekenplaat.defaults,options),this.element=element||document.querySelector(".kentekenplaat"),this.element.setAttribute("maxlength",8),this.init()}init(){this.format(),this.addEventListeners()}addEventListener(event){this.element.addEventListener(event,this.format.bind(this))}addEventListeners(){this.options.events.forEach(this.addEventListener.bind(this))}dispatch(licenseplate,valid){const event=valid?"kentekenplaat.valid":"kentekenplaat.invalid",validEvent=new CustomEvent(event,{detail:{licenseplate:licenseplate}});this.element.dispatchEvent(validEvent)}format(){let licenseplate=this.parseLicenseplate();if(this.valid&&licenseplate.length<6&&(this.valid=!1,this.dispatch(licenseplate,this.valid)),this.valid=!1,6===licenseplate.length){const sidecode=this.getSidecode();sidecode&&(sidecode<=6&&(licenseplate=`${licenseplate.substr(0,2)}-${licenseplate.substr(2,2)}-${licenseplate.substr(4,2)}`),7!==sidecode&&9!==sidecode||(licenseplate=`${licenseplate.substr(0,2)}-${licenseplate.substr(2,3)}-${licenseplate.substr(5,1)}`),8!==sidecode&&10!==sidecode||(licenseplate=`${licenseplate.substr(0,1)}-${licenseplate.substr(1,3)}-${licenseplate.substr(4,2)}`),11!==sidecode&&14!==sidecode||(licenseplate=`${licenseplate.substr(0,3)}-${licenseplate.substr(3,2)}-${licenseplate.substr(5,1)}`),12!==sidecode&&13!==sidecode||(licenseplate=`${licenseplate.substr(0,1)}-${licenseplate.substr(1,2)}-${licenseplate.substr(3,3)}`),this.valid=!0),this.dispatch(licenseplate,this.valid)}this.element.value=licenseplate}getSidecode(){const licenseplate=this.parseLicenseplate(),sidecodes=Kentekenplaat.sidecodes(),index=sidecodes.findIndex(item=>licenseplate.match(item));return index+1}parseLicenseplate(){return this.element.value.replace(/-/g,"").toUpperCase()}static sidecodes(){const sidecodes=[];return sidecodes[0]=/^[a-zA-Z]{2}[\d]{2}[\d]{2}$/,sidecodes[1]=/^[\d]{2}[\d]{2}[a-zA-Z]{2}$/,sidecodes[2]=/^[\d]{2}[a-zA-Z]{2}[\d]{2}$/,sidecodes[3]=/^[a-zA-Z]{2}[\d]{2}[a-zA-Z]{2}$/,sidecodes[4]=/^[a-zA-Z]{2}[a-zA-Z]{2}[\d]{2}$/,sidecodes[5]=/^[\d]{2}[a-zA-Z]{2}[a-zA-Z]{2}$/,sidecodes[6]=/^[\d]{2}[a-zA-Z]{3}[\d]{1}$/,sidecodes[7]=/^[\d]{1}[a-zA-Z]{3}[\d]{2}$/,sidecodes[8]=/^[a-zA-Z]{2}[\d]{3}[a-zA-Z]{1}$/,sidecodes[9]=/^[a-zA-Z]{1}[\d]{3}[a-zA-Z]{2}$/,sidecodes[10]=/^[a-zA-Z]{3}[\d]{2}[a-zA-Z]{1}$/,sidecodes[11]=/^[a-zA-Z]{1}[\d]{2}[a-zA-Z]{3}$/,sidecodes[12]=/^[\d]{1}[a-zA-Z]{2}[\d]{3}$/,sidecodes[13]=/^[\d]{3}[a-zA-Z]{2}[\d]{1}$/,sidecodes}}Kentekenplaat.defaults={events:["keyup","focus"]},module.exports=Kentekenplaat;